<div class="p-grid p-dir-col p-m-2">
  <h2>SLA LM: SLA PDF Bulk Upload</h2>

  <!-- File Upload Section -->
  <p-fileUpload
    name="files[]"
    [multiple]="true"
    url="#"
    (uploadHandler)="onFileSelect($event)"
    accept=".pdf"
    chooseLabel="Select PDF(s)"
    uploadLabel="Upload"
    cancelLabel="Clear"
    mode="advanced"
    maxFileSize="10000000"
  >
  </p-fileUpload>

  <!-- Button to Trigger Analysis (Optional) -->
  <button
    pButton
    label="Process PDFs"
    icon="pi pi-cog"
    class="p-mt-3"
    (click)="processDocuments()"
    [disabled]="selectedFiles.length === 0"
  ></button>

  <!-- Display extracted data in a table -->
  <p-table
    [value]="slaDataList"
    [paginator]="true"
    [rows]="5"
    responsiveLayout="scroll"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>SLA Name</th>
        <th>Parties Involved</th>
        <th>System Concerned</th>
        <th>Description</th>
        <th>Associated Metrics</th>
        <th>Page Number(s)</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-data>
      <tr>
        <td>{{ data.slaName }}</td>
        <td>{{ data.partiesInvolved }}</td>
        <td>{{ data.systemConcerned }}</td>
        <td>{{ data.description }}</td>
        <td>
          <!-- Display metrics as comma-separated -->
          {{ data.associatedMetrics.join(", ") }}
        </td>
        <td>
          <!-- Display page numbers as comma-separated -->
          {{ data.pageNumber.join(", ") }}
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
